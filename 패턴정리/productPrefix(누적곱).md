# 📄 누적곱 (Prefix Product) 이해하기

---

## ✨ 누적곱이란?

**누적곱(prefix product)** 은 배열의 각 위치까지의 곱을 미리 계산해 두고, 나중에 원하는 구간의 곱을 빠르게 계산할 수 있도록 하는 알고리즘입니다.

> 📌 누적합(prefix sum)과 같은 아이디어지만, 합 대신 곱을 구합니다.

---

## 🧪 예제 배열

```
arr = [2, 3, 4, 5]
```

### 누적곱 배열 만들기

| i (index) | arr\[i] | prefix\_product\[i] |
| --------- | ------- | ------------------- |
| 0         | 2       | 2                   |
| 1         | 3       | 2×3 = 6             |
| 2         | 4       | 6×4 = 24            |
| 3         | 5       | 24×5 = 120          |

즉, `prefix_product = [2, 6, 24, 120]`

---

## 📝 코드 예제

```python
arr = [2, 3, 4, 5]
n = len(arr)

# 누적곱 배열
prefix = [1] * (n + 1)  # prefix[0] = 1 (편의상)

for i in range(n):
    prefix[i+1] = prefix[i] * arr[i]

print("누적곱 배열:", prefix)  # [1, 2, 6, 24, 120]

# [l, r] 구간의 곱을 빠르게 구하기
l, r = 1, 3  # arr[1] ~ arr[3]
result = prefix[r+1] // prefix[l]
print(f"arr[{l}:{r}]의 곱:", result)  # 3×4×5 = 60
```

---

## 🚀 왜 쓸까요?

✅ **구간 곱을 O(1)에 구할 수 있다**

✅ 반복적인 곱 계산을 줄여서 효율적

✅ 구간 곱을 빠르게 계산해야 하는 문제(최대 곱, k개 구간 분할 등)에 매우 유리

---

## 📚 요약 표

| 개념     | 설명                                |
| ------ | --------------------------------- |
| 누적곱 정의 | 0\~i까지의 곱을 저장                     |
| 시간 복잡도 | 준비: O(N), 쿼리: O(1)                |
| 구현 방법  | prefix\[i+1] = prefix\[i]×arr\[i] |
| 활용 예시  | 구간 곱 쿼리, 최대 곱 문제 등                |

---

## 🔗 Tip

* 누적곱은 배열의 값이 0을 포함하면 주의해야 합니다.
* 큰 수가 될 수 있어서 필요하다면 모듈러 연산(`%`)과 함께 사용합니다.

---

## 📌 연습 문제

> 📋 배열 `[1, 2, 3, 4, 5]`가 있을 때, 구간 \[2,4]의 곱은?
>
> ✍️ 답: 3×4×5 = 60

---

누적곱은 단순한 아이디어이지만 강력한 도구입니다.
많은 구간 곱 쿼리가 있는 문제를 풀 때 꼭 기억해 두세요! 🚀
